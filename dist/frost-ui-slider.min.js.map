{"version":3,"names":["Slider","BaseComponent","constructor","node","options","super","this","_render","_events","value","$","getValue","_node","_options","defaultValue","start","end","min","range","values","_isArray","split","rangeSeparator","length","_setValue","_refreshDisabled","disable","setAttribute","disabled","dispose","_tooltip","remove","_container","removeEvent","removeClass","classes","hide","removeAttribute","_slider","_barLow","_barSelection","_barHigh","_handleEnd","_handleStart","_handleActive","_tickContainer","_ticks","enable","_startValue","_endValue","setValue","reverse","defaults","max","orientation","scale","formatter","tickSize","handleSize","handleSizeRatio","sliderSize","verticalHeight","step","tooltip","tooltipPlacement","low","selection","high","ticks","tickLabels","tickSnapBounds","lockToTicks","rangeHighlights","reversed","disabledOpacity","container","handle","slider","sliderBar","tick","tickFilled","tickLabel","proto","prototype","_checkTicks","closest","closestDiff","Number","MAX_VALUE","tickDiff","Math","abs","_createTooltip","element","spacing","placement","Tooltip","init","appendTo","trigger","show","addEvent","e","preventDefault","_","focus","addEventDelegate","button","is","getDataset","currentTarget","hasMouseover","dragEvent","mouseDragFactory","pos","getPosition","nearestTo","x","y","offset","setDataset","uiDragging","_stop","triggerEvent","originalStartValue","originalEndValue","_updatePercent","updateValue","detail","removeDataset","handles","isStart","isSame","originalValue","code","ctrlKey","slice","target","_getPercent","_inverseLerp","log","_getValue","percent","_lerp","exp","round","_moveHandle","setStyle","top","left","opacity","pointerEvents","create","class","append","width","height","_renderBar","_renderTicks","_renderRangeHighlights","_renderHandle","addClass","tabindex","before","style","bar","backgroundColor","transition","bottom","attributes","type","highlightBar","startPercent","index","entries","tickContainer","title","dataset","uiValue","text","transform","push","_clamp","_toStep","percentEnd","percentStart","percentLow","offsetHigh","percentHigh","endTitle","startTitle","barTitle","uiTitle","refresh","update","_updateTicks","newValue","percentY","percentX","isEndHandle","highlight","find","initComponent"],"sources":["../src/slider.js","../src/index.js","../src/prototype/helpers.js","../src/prototype/events.js","../src/prototype/render.js"],"sourcesContent":["import $ from '@fr0st/query';\nimport { BaseComponent } from '@fr0st/ui';\n\n/**\n * Slider Class\n * @class\n */\nexport default class Slider extends BaseComponent {\n    /**\n     * New Slider constructor.\n     * @param {HTMLElement} node The input node.\n     * @param {object} [options] The options to create the Slider with.\n     */\n    constructor(node, options) {\n        super(node, options);\n\n        this._render();\n        this._events();\n\n        let value = $.getValue(this._node);\n\n        if (!value) {\n            value = this._options.defaultValue;\n        }\n\n        let start = null;\n        let end = this._options.min;\n\n        if (this._options.range) {\n            const values = $._isArray(value) ?\n                value :\n                `${value}`.split(this._options.rangeSeparator);\n\n            start = end;\n            if (values.length === 2) {\n                start = values[0];\n                end = values[1];\n            } else if (values[0] !== '') {\n                end = values[0];\n            } else {\n                end = this._options.min;\n            }\n        } else if (value) {\n            end = value;\n        }\n\n        this._setValue(end, start);\n        this._refreshDisabled();\n    }\n\n    /**\n     * Disable the Slider.\n     */\n    disable() {\n        $.setAttribute(this._node, { disabled: true });\n        this._refreshDisabled();\n    }\n\n    /**\n     * Dispose the Slider.\n     */\n    dispose() {\n        if (this._tooltip) {\n            this._tooltip.dispose();\n            this._tooltip = null;\n        }\n\n        $.remove(this._container);\n        $.removeEvent(this._node, 'focus.ui.slider');\n        $.removeClass(this._node, this.constructor.classes.hide);\n        $.removeAttribute(this._node, 'tabindex');\n\n        this._container = null;\n        this._slider = null;\n        this._barLow = null;\n        this._barSelection = null;\n        this._barHigh = null;\n        this._handleEnd = null;\n        this._handleStart = null;\n        this._handleActive = null;\n        this._tickContainer = null;\n        this._ticks = null;\n\n        super.dispose();\n    }\n\n    /**\n     * Enable the Slider.\n     */\n    enable() {\n        $.removeAttribute(this._node, 'disabled');\n        this._refreshDisabled();\n    }\n\n    /**\n     * Get the current value(s).\n     * @return {number|array} The current value(s).\n     */\n    getValue() {\n        if (!this._options.range) {\n            return this._endValue;\n        }\n\n        return [this._startValue, this._endValue];\n    }\n\n    /**\n     * Set the current value(s).\n     * @param {number|array} value The value to set.\n     */\n    setValue(value) {\n        if (this._options.range && $._isArray(value)) {\n            this._setValue(...value.reverse());\n        } else {\n            this._setValue(value);\n        }\n    }\n}\n","import { initComponent } from '@fr0st/ui';\nimport Slider from './slider.js';\nimport { _events } from './prototype/events.js';\nimport { _checkTicks, _createTooltip, _getPercent, _getValue, _moveHandle, _refreshDisabled, _setValue, _updatePercent, _updateTicks } from './prototype/helpers.js';\nimport { _render, _renderBar, _renderHandle, _renderRangeHighlights, _renderTicks } from './prototype/render.js';\n\n// Slider default options\nSlider.defaults = {\n    min: 0,\n    max: 10,\n    defaultValue: 0,\n    orientation: 'horizontal',\n    scale: 'linear',\n    formatter: (value) => value,\n    tickSize: 30,\n    handleSize: 20,\n    handleSizeRatio: .75,\n    sliderSize: 10,\n    verticalHeight: 200,\n    step: .01,\n    tooltip: 'show',\n    tooltipPlacement: null,\n    low: null,\n    selection: 'bg-primary',\n    high: null,\n    ticks: [],\n    tickLabels: [],\n    tickSnapBounds: 0,\n    lockToTicks: false,\n    rangeHighlights: [],\n    range: false,\n    rangeSeparator: ',',\n    reversed: false,\n    disabledOpacity: .5,\n};\n\n// Slider classes\nSlider.classes = {\n    container: 'position-relative my-2',\n    handle: 'bg-body-tertiary border rounded focus-ring position-absolute translate-middle',\n    hide: 'visually-hidden',\n    slider: 'progress position-relative',\n    sliderBar: 'progress-bar position-absolute',\n    tick: 'progress rounded-circle position-absolute translate-middle',\n    tickFilled: 'progress-bar',\n    tickLabel: 'position-absolute',\n};\n\n// Slider prototype\nconst proto = Slider.prototype;\n\nproto._checkTicks = _checkTicks;\nproto._createTooltip = _createTooltip;\nproto._events = _events;\nproto._getPercent = _getPercent;\nproto._getValue = _getValue;\nproto._moveHandle = _moveHandle;\nproto._refreshDisabled = _refreshDisabled;\nproto._render = _render;\nproto._renderBar = _renderBar;\nproto._renderHandle = _renderHandle;\nproto._renderRangeHighlights = _renderRangeHighlights;\nproto._renderTicks = _renderTicks;\nproto._setValue = _setValue;\nproto._updatePercent = _updatePercent;\nproto._updateTicks = _updateTicks;\n\n// Slider init\ninitComponent('slider', Slider);\n\nexport default Slider;\n","import $ from '@fr0st/query';\nimport { Tooltip } from '@fr0st/ui';\n\n/**\n * Clamp value to nearest tick (if within bounds).\n * @param {number} value The value to check.\n * @return {number} The new value.\n */\nexport function _checkTicks(value) {\n    let closest;\n    let closestDiff = Number.MAX_VALUE;\n    for (const tick of this._options.ticks) {\n        const tickDiff = Math.abs(tick - value);\n        if (tickDiff < closestDiff && (this._options.lockToTicks || tickDiff < this._options.tickSnapBounds)) {\n            closestDiff = tickDiff;\n            closest = tick;\n        }\n    };\n\n    if (closest) {\n        return closest;\n    }\n\n    return value;\n};\n\n/**\n * Create a tooltip on an element.\n * @param {HTMLElement} element The element to attach the tooltip to.\n * @param {number} [spacing=0] Amount of spacing for the tooltip.\n * @return {UI.Tooltip} The tooltip.\n */\nexport function _createTooltip(element, spacing = 0) {\n    let placement;\n    if (this._options.tooltipPlacement) {\n        placement = this._options.tooltipPlacement;\n    } else if (this._options.orientation === 'vertical') {\n        placement = 'right';\n    } else {\n        placement = 'top';\n    }\n\n    const tooltip = Tooltip.init(element, {\n        appendTo: 'body',\n        trigger: '',\n        spacing,\n        placement,\n    });\n\n    if (this._options.tooltip === 'always') {\n        tooltip.show();\n    }\n\n    return tooltip;\n};\n\n/**\n * Convert a value to percent.\n * @param {number} value The value to convert.\n * @return {number} The percent.\n */\nexport function _getPercent(value) {\n    if (this._options.scale !== 'logarithmic') {\n        return $._inverseLerp(this._options.min, this._options.max, value) * 100;\n    }\n\n    if (this._options.min === this._options.max) {\n        return 0;\n    }\n\n    const offset = 1 - this._options.min;\n    const max = Math.log(this._options.max + offset);\n    const min = Math.log(this._options.min + offset);\n    const v = Math.log(value + offset);\n    return 100 * (v - min) / (max - min);\n};\n\n/**\n * Convert a percent to value.\n * @param {number} percent The percent to convert.\n * @return {number} The value.\n */\nexport function _getValue(percent) {\n    if (this._options.scale !== 'logarithmic') {\n        return $._lerp(this._options.min, this._options.max, percent / 100);\n    }\n\n    const offset = 1 - this._options.min;\n    const min = Math.log(this._options.min + offset);\n    const max = Math.log(this._options.max + offset);\n\n    const value = Math.exp(min + (max - min) * percent / 100) - offset;\n\n    if (Math.round(value) === max) {\n        return max;\n    }\n\n    return this._options.min + value;\n};\n\n/**\n * Move a handle by a percent.\n * @param {HTMLElement} handle The handle to move.\n * @param {number} percent The amount to move the handle.\n */\nexport function _moveHandle(handle, percent) {\n    if (this._options.reversed) {\n        percent = 100 - percent;\n    }\n\n    if (this._options.orientation === 'vertical') {\n        $.setStyle(handle, { top: `${100 - percent}%` });\n    } else {\n        $.setStyle(handle, { left: `${percent}%` });\n    }\n};\n\n/**\n * Refresh the disabled styling.\n */\nexport function _refreshDisabled() {\n    if ($.is(this._node, ':disabled')) {\n        $.setStyle(this._container, {\n            opacity: this._options.disabledOpacity,\n            pointerEvents: 'none',\n        });\n    } else {\n        $.setStyle(this._container, {\n            opacity: '',\n            pointerEvents: '',\n        });\n    }\n};\n\n/**\n * Set the slider value.\n * @param {number} end The end value.\n * @param {number} [start] The start value.\n * @param {object} [options] Options for updating the value.\n * @param  {Boolean} [options.updateValue=true] Whether to update the input value.\n */\nexport function _setValue(end, start = null, { updateValue = true } = {}) {\n    end = $._clamp(end, this._options.min, this._options.max);\n    end = $._toStep(end, this._options.step);\n    const percentEnd = this._getPercent(end);\n\n    let percent;\n    let percentStart;\n    let percentLow;\n    if (!this._options.range) {\n        percent = percentEnd;\n        percentLow = 0;\n    } else {\n        start = $._clamp(start, this._options.min, this._options.max);\n        start = $._toStep(start, this._options.step);\n        percentStart = this._getPercent(start);\n        percent = percentEnd - percentStart;\n        percentLow = percentStart;\n    }\n\n    if (!updateValue && end === this._endValue && start === this._startValue) {\n        return;\n    }\n\n    if (this._options.reversed) {\n        percentLow = 100 - percentLow;\n    }\n\n    const offsetHigh = percent + percentLow;\n    const percentHigh = 100 - offsetHigh;\n\n    if (this._options.orientation === 'vertical') {\n        $.setStyle(this._barLow, {\n            height: `${percentLow}%`,\n        });\n        $.setStyle(this._barSelection, {\n            height: `${percent}%`,\n            bottom: `${percentLow}%`,\n        });\n        $.setStyle(this._barHigh, {\n            height: `${percentHigh}%`,\n            bottom: `${offsetHigh}%`,\n        });\n    } else {\n        $.setStyle(this._barLow, {\n            width: `${percentLow}%`,\n        });\n        $.setStyle(this._barSelection, {\n            width: `${percent}%`,\n            left: `${percentLow}%`,\n        });\n        $.setStyle(this._barHigh, {\n            width: `${percentHigh}%`,\n            left: `${offsetHigh}%`,\n        });\n    }\n\n    $.setAttribute(this._barHigh, { 'aria-valuenow': percent });\n\n    const endTitle = this._options.formatter(end);\n    const startTitle = this._options.formatter(start);\n    let barTitle = endTitle;\n    barTitle = `${startTitle} - ${endTitle}`;\n\n    if (end !== this._endValue) {\n        $.setDataset(this._handleEnd, { uiTitle: endTitle });\n        this._moveHandle(this._handleEnd, percentEnd);\n        this._endValue = end;\n    }\n\n    if (start !== this._startValue) {\n        if (this._options.range) {\n            $.setDataset(this._handleStart, { uiTitle: startTitle });\n            this._moveHandle(this._handleStart, percentStart);\n        }\n\n        this._startValue = start;\n    }\n\n    $.setDataset(this._barSelection, { uiTitle: barTitle });\n\n    this._tooltip.refresh();\n    this._tooltip.update();\n\n    this._updateTicks();\n\n    if (!updateValue) {\n        return;\n    }\n\n    const newValue = this._options.range ?\n        `${start}${this._options.rangeSeparator}${end}` :\n        end;\n\n    if (newValue === $.getValue(this._node)) {\n        return;\n    }\n\n    $.setValue(this._node, newValue);\n\n    $.triggerEvent(this._node, 'change.ui.slider');\n};\n\n/**\n * Update the value based on slider position.\n * @param {number} x The x position.\n * @param {number} y The y position.\n * @param {object} [options] Options for updating the value.\n * @param  {Boolean} [options.updateValue=true] Whether to update the input value.\n */\nexport function _updatePercent(x, y, { updateValue = true } = {}) {\n    let percent;\n    if (this._options.orientation === 'vertical') {\n        percent = 100 - $.percentY(this._slider, y, { offset: true });\n    } else {\n        percent = $.percentX(this._slider, x, { offset: true });\n    }\n\n    if (this._options.reversed) {\n        percent = 100 - percent;\n    }\n\n    let value = this._getValue(percent);\n    value = this._checkTicks(value);\n\n    let start = null;\n    let end = value;\n    if (this._options.range) {\n        const isEndHandle = $.isSame(this._handleActive, this._handleEnd);\n        if (value < this._startValue && isEndHandle) {\n            this._handleActive = this._handleStart;\n            start = value;\n            end = this._startValue;\n        } else if (value > this._endValue && !isEndHandle) {\n            this._handleActive = this._handleEnd;\n            start = this._endValue;\n        } else if (isEndHandle) {\n            start = this._startValue;\n        } else {\n            start = value;\n            end = this._endValue;\n        }\n    }\n\n    this._setValue(end, start, { updateValue });\n};\n\n/**\n * Update tick styling.\n */\nexport function _updateTicks() {\n    for (const tick of this._ticks) {\n        const value = $.getDataset(tick, 'uiValue');\n        const highlight = this._options.rangeHighlights.find((range) => value >= range.start && value <= range.end);\n\n        let style = null;\n\n        $.setAttribute(tick, { class: '' });\n        $.addClass(tick, this.constructor.classes.tick);\n\n        if (this._startValue !== null & value < this._startValue) {\n            style = this._options.low;\n        } else if (value > this._endValue) {\n            style = this._options.high;\n        } else {\n            $.addClass(tick, this.constructor.classes.tickFilled);\n            style = this._options.selection;\n        }\n\n        if (highlight) {\n            style = highlight.style;\n        }\n\n        if (style) {\n            $.addClass(tick, style);\n        }\n    }\n};\n","import $ from '@fr0st/query';\nimport { getPosition } from '@fr0st/ui';\n\n/**\n * Attach events for the Slider.\n */\nexport function _events() {\n    $.addEvent(this._container, 'contextmenu.ui.colorpicker', (e) => {\n        // prevent slider node from showing right click menu\n        e.preventDefault();\n    });\n\n    $.addEvent(this._node, 'focus.ui.slider', (_) => {\n        $.focus(this._handleEnd);\n    });\n\n    $.addEventDelegate(this._container, 'click', '[data-ui-value]', (e) => {\n        if (\n            e.button ||\n            $.is(this._node, ':disabled')\n        ) {\n            return;\n        }\n\n        e.preventDefault();\n\n        const value = $.getDataset(e.currentTarget, 'uiValue');\n        this._setValue(value);\n    });\n\n    let hasMouseover = false;\n\n    const downEvent = (e) => {\n        if (\n            e.button ||\n            $.is(this._node, ':disabled')\n        ) {\n            return false;\n        }\n\n        if (this._options.range) {\n            const pos = getPosition(e);\n            this._handleActive = $.nearestTo([this._handleStart, this._handleEnd], pos.x, pos.y, { offset: true });\n        } else {\n            this._handleActive = this._handleEnd;\n        }\n\n        $.setDataset(this._slider, { uiDragging: true });\n\n        if (this._options.tooltip === 'show' && !hasMouseover) {\n            this._tooltip._stop();\n            this._tooltip.show();\n        }\n\n        $.triggerEvent(this._node, 'slide.ui.slider');\n    };\n\n    const moveEvent = (e) => {\n        const originalStartValue = this._startValue;\n        const originalEndValue = this._endValue;\n\n        const pos = getPosition(e);\n        this._updatePercent(pos.x, pos.y, { updateValue: false });\n\n        if (originalStartValue === this._startValue && originalEndValue === this._endValue) {\n            return;\n        }\n\n        $.triggerEvent(this._node, 'sliding.ui.slider', {\n            detail: {\n                start: this._startValue,\n                end: this._endValue,\n            },\n        });\n    };\n\n    const upEvent = (e) => {\n        $.removeDataset(this._slider, 'uiDragging');\n\n        if (this._options.tooltip === 'show' && !hasMouseover) {\n            this._tooltip._stop();\n            this._tooltip.hide();\n        }\n\n        $.focus(this._handleActive);\n        $.triggerEvent(this._node, 'slid.ui.slider', {\n            detail: {\n                start: this._startValue,\n                end: this._endValue,\n            },\n        });\n\n        if ($.is(e.currentTarget, '[data-ui-value]')) {\n            const value = $.getDataset(e.currentTarget, 'uiValue');\n            this._setValue(value);\n        } else {\n            const pos = getPosition(e);\n            this._updatePercent(pos.x, pos.y);\n        }\n    };\n\n    const dragEvent = $.mouseDragFactory(downEvent, moveEvent, upEvent);\n\n    const handles = this._options.range ?\n        [this._handleStart, this._handleEnd] :\n        this._handleEnd;\n\n    $.addEvent(handles, 'mousedown.ui.slider touchstart.ui.slider', dragEvent);\n    $.addEvent(this._slider, 'mousedown.ui.slider touchstart.ui.slider', dragEvent);\n    $.addEventDelegate(this._container, 'mousedown.ui.slider touchstart.ui.slider', '[data-ui-value]', dragEvent);\n\n    $.addEvent(handles, 'keydown.ui.slider', (e) => {\n        if ($.is(this._node, ':disabled')) {\n            return;\n        }\n\n        const isStart = this._options.range && $.isSame(this._handleStart, e.currentTarget);\n\n        let value = isStart ?\n            this._startValue :\n            this._endValue;\n\n        const originalValue = value;\n\n        switch (e.code) {\n            case 'ArrowLeft':\n                if (e.ctrlKey) {\n                    for (const tick of this._options.ticks) {\n                        if (tick >= originalValue) {\n                            break;\n                        }\n\n                        value = tick;\n                    }\n\n                    if (value === originalValue) {\n                        value = this._options.min;\n                    }\n                } else {\n                    value -= this._options.step;\n                }\n                break;\n            case 'ArrowRight':\n                if (e.ctrlKey) {\n                    for (const tick of this._options.ticks.slice().reverse()) {\n                        if (tick <= originalValue) {\n                            break;\n                        }\n\n                        value = tick;\n                    }\n\n                    if (value === originalValue) {\n                        value = this._options.max;\n                    }\n                } else {\n                    value += this._options.step;\n                }\n                break;\n            case 'Home':\n                value = this._options.min;\n                break;\n            case 'End':\n                value = this._options.max;\n                break;\n            default:\n                return;\n        }\n\n        e.preventDefault();\n\n        let start = null;\n        let end = value;\n        if (isStart) {\n            start = value;\n            end = this._endValue;\n        }\n\n        this._setValue(end, start);\n    });\n\n    if (this._options.tooltip === 'show') {\n        $.addEvent(this._container, 'mouseenter.ui.slider', (e) => {\n            if (!$.isSame(e.target, this._container)) {\n                return;\n            }\n\n            if (!$.getDataset(this._slider, 'uiDragging')) {\n                this._tooltip._stop();\n                this._tooltip.show();\n            }\n\n            hasMouseover = true;\n        });\n\n        $.addEvent(this._container, 'mouseleave.ui.slider', (e) => {\n            if (!$.isSame(e.target, this._container)) {\n                return;\n            }\n\n            if (!$.getDataset(this._slider, 'uiDragging')) {\n                this._tooltip._stop();\n                this._tooltip.hide();\n            }\n\n            hasMouseover = false;\n        });\n    }\n};\n","import $ from '@fr0st/query';\n\n/**\n * Render the slider.\n */\nexport function _render() {\n    this._container = $.create('div', {\n        class: this.constructor.classes.container,\n    });\n\n    this._slider = $.create('div', {\n        class: this.constructor.classes.slider,\n    });\n    $.append(this._container, this._slider);\n\n    if (this._options.orientation === 'vertical') {\n        $.setStyle(this._slider, {\n            width: `${this._options.sliderSize}px`,\n            height: `${this._options.verticalHeight}px`,\n        });\n    } else {\n        $.setStyle(this._slider, {\n            width: '100%',\n            height: `${this._options.sliderSize}px`,\n        });\n    }\n\n    if (this._options.range) {\n        this._barLow = this._renderBar(this._options.low);\n        $.append(this._slider, this._barLow);\n    }\n\n    this._barSelection = this._renderBar(this._options.selection);\n    $.append(this._slider, this._barSelection);\n\n    this._barHigh = this._renderBar(this._options.high);\n    $.append(this._slider, this._barHigh);\n\n    this._renderTicks();\n    this._renderRangeHighlights();\n\n    this._handleEnd = this._renderHandle();\n    $.append(this._container, this._handleEnd);\n\n    if (this._options.range) {\n        this._handleStart = this._renderHandle();\n        $.append(this._container, this._handleStart);\n    }\n\n    if (this._options.tooltip) {\n        if (this._options.range) {\n            this._tooltip = this._createTooltip(this._barSelection, (this._options.handleSize - this._options.sliderSize) / 2);\n        } else {\n            this._tooltip = this._createTooltip(this._handleEnd);\n        }\n    }\n\n    // hide the input node\n    $.addClass(this._node, this.constructor.classes.hide);\n    $.setAttribute(this._node, { tabindex: -1 });\n\n    $.before(this._node, this._container);\n};\n\n/**\n * Render a progress bar.\n * @param {string} [style] The background style.\n * @return {HTMLElement} The progress bar.\n */\nexport function _renderBar(style) {\n    const bar = $.create('div', {\n        class: this.constructor.classes.sliderBar,\n        style: {\n            backgroundColor: 'transparent',\n            transition: 'none',\n        },\n    });\n\n    if (style) {\n        $.addClass(bar, style);\n    }\n\n    if (this._options.orientation === 'vertical') {\n        $.setStyle(bar, {\n            width: '100%',\n            bottom: 0,\n        });\n    } else {\n        $.setStyle(bar, {\n            height: '100%',\n        });\n    }\n\n    return bar;\n};\n\n/**\n * Render a handle.\n * @return {HTMLElement} The handle.\n */\nexport function _renderHandle() {\n    const handle = $.create('button', {\n        class: this.constructor.classes.handle,\n        attributes: {\n            type: 'button',\n        },\n    });\n\n    if (this._options.orientation === 'vertical') {\n        $.setStyle(handle, {\n            width: `${this._options.handleSize}px`,\n            height: `${this._options.handleSize * this._options.handleSizeRatio}px`,\n            left: `${this._options.sliderSize / 2}px`,\n        });\n    } else {\n        $.setStyle(handle, {\n            width: `${this._options.handleSize * this._options.handleSizeRatio}px`,\n            height: `${this._options.handleSize}px`,\n            top: `${this._options.sliderSize / 2}px`,\n        });\n    }\n\n    return handle;\n};\n\n/**\n * Render highlight ranges.\n */\nexport function _renderRangeHighlights() {\n    for (const range of this._options.rangeHighlights) {\n        const highlightBar = this._renderBar(range.style);\n\n        const startPercent = this._getPercent(range.start);\n        const endPercent = this._getPercent(range.end);\n        const percent = endPercent - startPercent;\n\n        if (this._options.orientation === 'vertical') {\n            $.setStyle(highlightBar, {\n                height: `${percent}%`,\n                top: `${startPercent}`,\n            });\n        } else {\n            $.setStyle(highlightBar, {\n                width: `${percent}%`,\n                left: `${startPercent}%`,\n            });\n        }\n\n        $.append(this._slider, highlightBar);\n    }\n};\n\n/**\n * Render slider ticks.\n */\nexport function _renderTicks() {\n    this._tickContainer = $.create('div');\n    this._ticks = [];\n\n    for (const [index, value] of this._options.ticks.entries()) {\n        const tickContainer = $.create('div');\n\n        const tick = $.create('div', {\n            attributes: {\n                title: value,\n            },\n            dataset: {\n                uiValue: value,\n            },\n        });\n\n        let percent = this._getPercent(value);\n\n        if (this._options.reversed) {\n            percent = 100 - percent;\n        }\n\n        $.setStyle(tick, {\n            width: `${this._options.tickSize}px`,\n            height: `${this._options.tickSize}px`,\n        });\n\n        if (this._options.orientation === 'vertical') {\n            $.setStyle(tick, {\n                bottom: `${percent}%`,\n                left: '50%',\n            });\n        } else {\n            $.setStyle(tick, {\n                top: '50%',\n                left: `${percent}%`,\n            });\n        }\n\n        $.append(tickContainer, tick);\n\n        if (this._options.tickLabels && this._options.tickLabels[index]) {\n            const tickLabel = $.create('div', {\n                text: value,\n                class: this.constructor.classes.tickLabel,\n            });\n\n            if (this._options.orientation === 'vertical') {\n                $.setStyle(tickLabel, {\n                    top: `${percent}%`,\n                    left: '100%',\n                    transform: 'translateY(-50%)',\n                });\n            } else {\n                $.setStyle(tickLabel, {\n                    top: '100%',\n                    left: `${percent}%`,\n                    transform: 'translateX(-50%)',\n                });\n            }\n\n            $.append(tickContainer, tickLabel);\n        }\n\n        $.append(this._tickContainer, tickContainer);\n\n        this._ticks.push(tick);\n    }\n\n    $.append(this._container, this._tickContainer);\n};\n"],"mappings":"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"}